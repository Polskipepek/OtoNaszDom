<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:komponentyZlozone="http://xmlns.jcp.org/jsf/composite/komponentyZlozone"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <h:head>
        <link rel="stylesheet" href="resources/css/browserStyle.css"/>
        <!--        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"/>
        -->
        <title>#{bundle['browser.szukaj']}</title>
    </h:head>
    <h:body>
        <div>
            <h:form enctype="multipart/form-data">
                <ui:include src="menuContent.xhtml"/>
                <center>
                    <h:inputText class="searchTxt"  value="#{browserController.searchString}"></h:inputText>

                    <h:commandButton class="searchBtn" value="#{bundle['browser.szukaj']}" action="#{browserController.GetFlatsByString()}" >
                        <f:ajax execute="search" render="output"></f:ajax>
                    </h:commandButton>
                    <br/>


                    <h:commandButton class="openPopupButton" value="#{bundle['browser.otworzPopupDodaj']}">
                        <f:ajax render="@form" listener="#{browserController.showPopupAddFlat()}" />
                    </h:commandButton>

                    <h:form class="popup-panel-overlay" enctype="multipart/form-data" rendered="#{browserController.showPopup}">
                        <center class="popup-panel">
                            <komponentyZlozone:DodawanieMieszkania

                                nameLabel="#{bundle['mieszkanie.nazwa']}"
                                nameValue="#{browserController.name}"

                                descriptionLabel="#{bundle['mieszkanie.opis']}"
                                descriptionValue="#{browserController.desc}"

                                priceLabel="#{bundle['mieszkanie.cena']}"
                                priceValue="#{browserController.price}"

                                imagesLabel="#{bundle['mieszkanie.obraz']}"
                                imagesValue="#{browserController.files}"

                                addFlatButtonLabel="#{bundle['mieszkanie.dodajMieszkanie']}"
                                addFlatButtonAction="#{browserController.AddFlat()}"

                                /><br/>
                        </center>

                    </h:form>
                    <br/><br/>
                    <ui:include src="showAll.xhtml"/>
                    
                    
                </center>
            </h:form>

        </div>
    </h:body>
</html>

